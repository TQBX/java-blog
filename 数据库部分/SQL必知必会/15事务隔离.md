隔离性：防止数据库在并发处理时出现数据不一致的情况。

最严格的情况下，可以采用串行化的方式来执行每一个事务，意味着事务之间相互独立，不存在并发情况，但需要要求数据库有更高的吞吐能力，这时就需要降低数据库的隔离标准，来换取事务之间的并发能力。

因此需要**设置不同的隔离级别**，以便在正确性和效率之间进行平衡。

## 事务并发处理可能存在的异常都有哪些？

脏读：读到其他事务还没有提交的数据。

不可重复读：对某数据进行读取，两次读取的结果不同，没有读到相同的内容。

幻读：A查到N条数据，B增加了M条数据，A再次查询会有M + N条数据，产生幻读。

## 事务隔离的级别有哪些？

![img](img/15事务隔离/b07103c5f5486aec5e2daf1dacfd6f95.png)

读未提交：允许读到未提交的数据。

读已提交：只能读到已经提交的内容，可以避免脏读，是Oracle 和 SQL Server的默认隔离级别。

可重复读：保证一个事务在相同查询条件下两次查询得到的数据结果是一致的，可以避免不可重复读和脏读，但无法避免幻读。MySQL 默认的隔离级别就是可重复读。

可串行化：可串行化是最高级别的隔离等级，可以解决事务读取中所有可能出现的异常情况，但是它牺牲了系统的并发性。

## 操作

查看当前会话下的隔离级别：

```sql
SHOW VARIABLES LIKE 'transaction_isolation';
```

设置隔离级别

```sql
SET SESSION TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;
```

