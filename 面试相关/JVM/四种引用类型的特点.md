#  强引用

在 Java 中最常见的就是强引用，**把一个对象赋给一个引用变量，这个引用变量就是一个强引用**。当一个对象被强引用变量引用时，它处于可达状态，它是**不可能被垃圾回收机制回收的**，即使该对象以后永远都不会被用到 JVM 也不会回收。因此强引用是造成 Java 内存泄漏的主要原因之一。

# 软引用

软引用需要用 SoftReference 类来实现，如果一个对象只具有软引用，**当系统内存足够时它不会被回收，当系统内存空间不足时它会被回收**。

软引用可以用来实现内存敏感的高速缓存。

软引用可以和一个引用队列联合使用，如果软引用所引用的对象被垃圾回收，虚拟机就会把这个软引用加入到与之关联的引用队列中。

# 弱引用

弱引用需要用 WeakReference 类来实现，弱引用与软引用的区别在于：**弱引用比软引用的生存期更短**，对于只有弱引用的对象来说，**只要垃圾回收机制一运行，不管 JVM 的内存空间是否足够，总会回收该对象占用的内存**。

弱引用可以和一个引用队列（ReferenceQueue）联合使用，如果弱引用所引用的对象被垃圾回收，Java 虚拟机就会把这个弱引用加入到与之关联的引用队列中。

# 虚引用

虚引用需要 PhantomReference 类来实现，它不能单独使用，**必须和引用队列联合使用**。虚引用的主要作用是**跟踪对象被垃圾回收的状态**。

当垃圾回收器准备回收一个对象时，如果发现它还有虚引用，就会在回收对象的内存之前，把这个虚引用加入到与之关联的引用队列中。程序可以通过判断引用队列中是否已经加入了虚引用，来了解被引用的对象是否将要被垃圾回收。程序如果发现某个虚引用已经被加入到引用队列，那么就可以在所引用的对象的内存被回收之前采取必要的行动。



> 在程序设计中一般很少使用弱引用与虚引用，使用软引用的情况较多，这是因为**软引用可以加速 JVM 对垃圾内存的回收速度，可以维护系统的运行安全，防止内存溢出（OutOfMemory）等问题的产生**。

虚引用需要 PhantomReference 类来实现，它不能单独使用，必须和引用队列联合使用。虚引用的主要作用是跟踪对象被垃圾回收的状态。