# Arthas

```shell
curl -O https://arthas.aliyun.com/arthas-boot.jar
java -jar arthas-boot.jar
```

```shell
[arthas@1565]$ dashboard
```

![image-20200911004451286](C:\Users\13327\AppData\Roaming\Typora\typora-user-images\image-20200911004451286.png)

一个Java进程CPU突然飙升，如何定位问题？

1. top -Hp  jstack

2. arthas dashboard   直接观测到cpu占比，  thread threa ID

- 业务线程：查看业务
- GC线程：读GC日志

```shell
[arthas@1565]$ thread
```

![image-20200911005546729](C:\Users\13327\AppData\Roaming\Typora\typora-user-images\image-20200911005546729.png)

```shell
[arthas@1565]$ thread 10
```

![image-20200911005832596](C:\Users\13327\AppData\Roaming\Typora\typora-user-images\image-20200911005832596.png)

死锁怎么排查？

1. jstack 观察线程情况
2. arthas thread -b

```shell
[arthas@1565]$ thread -b
```

