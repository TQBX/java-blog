## [41. 缺失的第一个正数](https://leetcode-cn.com/problems/first-missing-positive/)

给你一个未排序的整数数组，请你找出其中没有出现的最小的正整数。

**示例 1:**

```
输入: [1,2,0]
输出: 3
```

**示例 2:**

```
输入: [3,4,-1,1]
输出: 2
```

**示例 3:**

```
输入: [7,8,9,11,12]
输出: 1
```

**提示：**

你的算法的时间复杂度应为O(*n*)，并且只能使用常数级别的额外空间。

### 哈希表法

```java
	// 时间复杂度 O(N) 空间复杂度 O(N)
    public int firstMissingPositive(int[] nums) {
        int n = nums.length;

        Set<Integer> set = new HashSet<>();
        for(int num : nums) set.add(num);
        for(int i = 1;  i <= n; i ++){
            if(!set.contains(i)) return i;
        }
        return n + 1;
    }
```

### 排序法

```java
    // 时间复杂度 O(Nlog(N)) 空
    public int firstMissingPositive(int[] nums) {
        // 先排序 Nlog(N)
        Arrays.sort(nums);

        int pre = 0;
        for(int i = 0; i < nums.length; i ++){
            // 跳过非正整数和重复值
            if(nums[i] <= 0 || nums[i] == pre) continue;
            // 找到第一个突变的元素
            else if(nums[i] > pre + 1) break;

            pre ++;
        }
        return pre + 1;
    }
```

### 原地哈希法

![](https://pic.leetcode-cn.com/1e4f3f1c9a6fb37c2aa515069508f5f3ef9d72cc55b586790f9bec9705052d17-0041-14.png)

```java
	// 时间复杂度 O(N) 空间复杂度 O(1)
    // 原地哈希： 自定义哈希函数 将数值 i 映射到 i - 1的位置上
    public int firstMissingPositive(int[] nums) {
        int len = nums.length;
        for(int i = 0; i < len; i ++){
            // 在指定范围内， 且没有放在正确位置上， 交换
            while(nums[i] > 0 && nums[i] <= len && nums[nums[i] - 1] != nums[i]){
                swap(nums, nums[i] - 1, i);
            }
        }
        // 找到不符合的位置
        for(int i = 0; i < len; i ++){
            if(nums[i] != i + 1) return i + 1;
        }
        // 都正确则返回数组长度 + 1
        return len + 1;
    }
    void swap(int[] nums, int i, int j){
        int temp = nums[i];
        nums[i] = nums[j];
        nums[j] = temp;
    }
```

#### [42. 接雨水](https://leetcode-cn.com/problems/trapping-rain-water/)

给定 *n* 个非负整数表示每个宽度为 1 的柱子的高度图，计算按此排列的柱子，下雨之后能接多少雨水。

![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/10/22/rainwatertrap.png)

上面是由数组 [0,1,0,2,1,0,1,3,2,1,2,1] 表示的高度图，在这种情况下，可以接 6 个单位的雨水（蓝色部分表示雨水）。 **感谢 Marcos** 贡献此图。

**示例:**

```
输入: [0,1,0,2,1,0,1,3,2,1,2,1]
输出: 6
```

